{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { MatPaginator } from \"@angular/material/paginator\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { MatSort } from \"@angular/material/sort\";\nimport { PopUpComponent } from './pop-up/pop-up.component';\nconst REPORT_DATA = [{\n  date: '4/7/23',\n  projects: 'FLP; FEMA',\n  reportStatus: 'Missing'\n}, {\n  date: '4/6/23',\n  projects: 'FLP; FEMA',\n  reportStatus: 'Submitted'\n}];\nlet AppComponent = class AppComponent {\n  constructor(dialogRef, sharedService, _apiservice) {\n    this.dialogRef = dialogRef;\n    this.sharedService = sharedService;\n    this._apiservice = _apiservice;\n    this.title = 'RisenOne';\n    this.sort = null;\n    this.paginator = null;\n    this.displayedColumns = ['date', 'projects', 'reportStatus'];\n    this.dataSource = new MatTableDataSource(REPORT_DATA);\n    this.filterText = '';\n  }\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n  ngOnInit() {\n    this._apiservice.getData().subscribe(res => {\n      this.tableItem = res;\n    });\n    this.dataSource.sort = this.sort;\n    this.users = [{\n      date: '4/21/2023',\n      reportText: 'test'\n    }, {\n      date: '4/20/2023',\n      reportText: 'test'\n    }, {\n      date: '4/19/2023',\n      reportText: 'test'\n    }];\n  }\n  openDialog() {\n    this.dialogRef.open(PopUpComponent);\n  }\n  closeDialog() {\n    this.dialogRef.closeAll();\n  }\n  Filterchange(event) {\n    const filvalue = event.target.value;\n    this.dataSource.filter = filvalue;\n  }\n  downloadCSV() {\n    this.sharedService.csvDownload(this.displayedColumns, REPORT_DATA);\n  }\n  exportElmToExcel() {\n    this.sharedService.exportTableElmToExcel(this.userTable, 'user_data');\n  }\n  exportToExcel() {\n    const edata = [];\n    const udt = {\n      data: [{\n        A: 'User Data'\n      }, {\n        A: 'date',\n        B: 'Report Text'\n      } // table header\n      ],\n\n      skipHeader: true\n    };\n    this.users.forEach(user => {\n      udt.data.push({\n        A: user.date,\n        B: user.reportText\n      });\n    });\n    edata.push(udt);\n    this.sharedService.exportJsonToExcel(edata, 'user_data');\n  }\n};\n__decorate([ViewChild(MatSort)], AppComponent.prototype, \"sort\", void 0);\n__decorate([ViewChild(MatPaginator)], AppComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild('userTable')], AppComponent.prototype, \"userTable\", void 0);\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);\nexport { AppComponent };","map":{"version":3,"mappings":"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","names":["Component","ViewChild","MatPaginator","MatTableDataSource","MatSort","PopUpComponent","REPORT_DATA","date","projects","reportStatus","AppComponent","constructor","dialogRef","sharedService","_apiservice","ngAfterViewInit","dataSource","paginator","sort","ngOnInit","getData","subscribe","res","tableItem","users","reportText","openDialog","open","closeDialog","closeAll","Filterchange","event","filvalue","target","value","filter","downloadCSV","csvDownload","displayedColumns","exportElmToExcel","exportTableElmToExcel","userTable","exportToExcel","edata","udt","data","A","B","skipHeader","forEach","user","push","exportJsonToExcel","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ltjoh\\OneDrive\\Documents\\UCM\\1Senior Project\\RisenOne\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, ViewChild, OnInit, ElementRef } from '@angular/core';\nimport { MatPaginator } from \"@angular/material/paginator\";\nimport { MatTableDataSource } from \"@angular/material/table\";\nimport { MatSort, Sort } from \"@angular/material/sort\";\nimport { MatDialog } from \"@angular/material/dialog\";\nimport { PopUpComponent } from './pop-up/pop-up.component';\nimport { MasterService } from './service/master.service';\nimport { User } from './interfaces/user.interface';\nimport { ExcelJson } from './interfaces/excel-json.interface';\nimport { ApiserviceService } from './service/apiservice.service'\n\nexport interface Report {\n  date: string;\n  projects: string;\n  reportStatus: string;\n}\n\nconst REPORT_DATA: Report[] = [\n  {date: '4/7/23', projects: 'FLP; FEMA', reportStatus: 'Missing'},\n  {date: '4/6/23', projects: 'FLP; FEMA', reportStatus: 'Submitted' },\n];\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'RisenOne';\n  @ViewChild(MatSort) sort: MatSort | null = null;\n  @ViewChild(MatPaginator) paginator: MatPaginator | null = null;\n  displayedColumns: string[] = ['date', 'projects', 'reportStatus'];\n  dataSource = new MatTableDataSource(REPORT_DATA);\n  filterText:string = '';\n  users: User[];\n  @ViewChild('userTable') userTable: ElementRef;\n\n  tableItem:any;\n\n  constructor(private dialogRef: MatDialog, private sharedService: MasterService, private _apiservice:ApiserviceService){\n\n  }\n\n  ngAfterViewInit(){\n    this.dataSource.paginator = this.paginator;\n    this.dataSource.sort = this.sort;\n  }\n\n  ngOnInit(){\n    this._apiservice.getData().subscribe(res =>{\n        this.tableItem=res;\n      }\n    )  \n    this.dataSource.sort = this.sort;\n\n      this.users = [\n        {\n          date:'4/21/2023',\n          reportText:'test'\n        },\n        {\n          date:'4/20/2023',\n          reportText:'test'\n        },\n        {\n          date:'4/19/2023',\n          reportText:'test'\n        }\n      ];\n  }\n\n  openDialog(){\n    this.dialogRef.open(PopUpComponent);\n  }\n  closeDialog(){\n    this.dialogRef.closeAll();\n  }\n\n  Filterchange(event:Event){\n    const filvalue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filvalue;\n  }\n\n  downloadCSV(){\n    this.sharedService.csvDownload(this.displayedColumns, REPORT_DATA);\n  }\n\n  exportElmToExcel(): void {\n    this.sharedService.exportTableElmToExcel(this.userTable, 'user_data');\n  }\n\n  exportToExcel(): void {\n\n    const edata: Array<ExcelJson> = [];\n    const udt: ExcelJson = {\n      data: [\n        { A: 'User Data' }, // title\n        { A: 'date', B: 'Report Text' }, // table header\n      ],\n      skipHeader: true\n    };\n    this.users.forEach(user => {\n      udt.data.push({\n        A: user.date,\n        B: user.reportText\n      });\n    });\n    edata.push(udt);\n\n    this.sharedService.exportJsonToExcel(edata, 'user_data');\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}